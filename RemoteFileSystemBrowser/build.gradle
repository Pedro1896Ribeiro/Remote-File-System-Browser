
apply plugin: 'java-library'

repositories {

    jcenter()
}

dependencies {
   
    api 'org.apache.commons:commons-math3:3.6.1'  
    implementation 'com.google.guava:guava:23.0'
    testImplementation 'junit:junit:4.12'
}

task server(type: JavaExec) {
  classpath = sourceSets.main.runtimeClasspath

  main = 'pt.ipb.sd.TP1RFSB.Server.Server'
  jvmArgs = ['-Djava.security.policy=etc/security.policy', '-Djava.security.server.useCodebaseOnly=false', '-Djava.rmi.server.hostname=localhost']
}

task client(type: JavaExec) {
  classpath = sourceSets.main.runtimeClasspath

  main = 'pt.ipb.sd.TP1RFSB.Client.Client'
  jvmArgs = ['-Djava.security.policy=etc/security.policy', '-Djava.security.server.useCodebaseOnly=false']
  
  if (project.hasProperty('registryAddress')) {
      args(registryAddress)
  }
}